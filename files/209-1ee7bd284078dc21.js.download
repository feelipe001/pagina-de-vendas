(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{7209:(e,t,s)=>{Promise.resolve().then(s.bind(s,7595))},7595:(e,t,s)=>{"use strict";s.d(t,{AppEditor:()=>eG});var a=s(5155),r=s(2115),l=s(6671),n=s(1364),i=s(4357),o=s(1980),c=s(7684),d=s(4321),u=s(6312),x=s(9552),m=s(7),h=s(9300),p=s.n(h),f=s(5695),g=s(1720),j=s(2657),v=s(8975),b=s(7168),y=s(6766);let N=[{value:"chat",label:"Chat",icon:g.A},{value:"preview",label:"Preview",icon:j.A}];function w(e){let{tab:t,onNewTab:s,children:r}=e;return(0,a.jsxs)("header",{className:"border-b bg-slate-200 border-slate-300 dark:bg-neutral-950 dark:border-neutral-800 px-3 lg:px-6 py-2 flex items-center max-lg:gap-3 justify-between lg:grid lg:grid-cols-3 z-20",children:[(0,a.jsx)("div",{className:"flex items-center justify-start gap-3",children:(0,a.jsxs)("h1",{className:"text-neutral-900 dark:text-white text-lg lg:text-xl font-bold flex items-center justify-start",children:[(0,a.jsx)(y.default,{src:v.A,alt:"DeepSite Logo",className:"size-6 lg:size-8 mr-2 invert-100 dark:invert-0"}),(0,a.jsxs)("p",{className:"max-md:hidden flex items-center justify-start",children:["DeepSite",(0,a.jsxs)("span",{className:"font-mono bg-gradient-to-br from-sky-500 to-emerald-500 text-neutral-950 rounded-full text-xs ml-2 px-1.5 py-0.5",children:[" ","v2"]})]})]})}),(0,a.jsx)("div",{className:"flex items-center justify-start lg:justify-center gap-1 max-lg:pl-3 flex-1 max-lg:border-l max-lg:border-l-neutral-800",children:N.map(e=>(0,a.jsxs)(b.$,{variant:t===e.value?"secondary":"ghost",className:p()("",{"opacity-60":t!==e.value}),size:"sm",onClick:()=>s(e.value),children:[(0,a.jsx)(e.icon,{className:"size-4"}),(0,a.jsx)("span",{className:"hidden md:inline",children:e.label})]},e.value))}),(0,a.jsx)("div",{className:"flex items-center justify-end gap-3",children:r})]})}var k=s(9911),z=s(2498),S=s(4788),C=s(4109),A=s(6696),D=s(2515),L=s(9676),R=s(547),P=s(3999);function E(e){let{...t}=e;return(0,a.jsx)(R.bL,{"data-slot":"popover",...t})}function _(e){let{...t}=e;return(0,a.jsx)(R.l9,{"data-slot":"popover-trigger",...t})}function T(e){let{className:t,align:s="center",sideOffset:r=4,...l}=e;return(0,a.jsx)(R.ZL,{children:(0,a.jsx)(R.UC,{"data-slot":"popover-content",align:s,sideOffset:r,className:(0,P.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...l})})}function I(e){let{history:t,setHtml:s}=e;return(0,a.jsxs)(E,{children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsxs)(b.$,{variant:"ghost",size:"sm",className:"max-lg:hidden",children:[(0,a.jsx)(L.A,{className:"size-4 text-neutral-300"}),null==t?void 0:t.length," edit",1!==t.length?"s":""]})}),(0,a.jsxs)(T,{className:"!rounded-2xl !p-0 overflow-hidden !bg-neutral-900",align:"start",children:[(0,a.jsx)("header",{className:"text-sm px-4 py-3 border-b gap-2 bg-neutral-950 border-neutral-800 font-semibold text-neutral-200",children:"History"}),(0,a.jsx)("main",{className:"px-4 space-y-3",children:(0,a.jsx)("ul",{className:"max-h-[250px] overflow-y-auto",children:null==t?void 0:t.map((e,t)=>(0,a.jsxs)("li",{className:"text-gray-300 text-xs py-2 border-b border-gray-800 last:border-0 flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("span",{className:"line-clamp-1",children:e.prompt}),(0,a.jsx)("span",{className:"text-gray-500 text-[10px]",children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})+" "+new Date(e.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})]}),(0,a.jsx)(b.$,{variant:"sky",size:"xs",onClick:()=>{s(e.html)},children:"Select"})]},t))})})]})]})}var $=s(9554),H=s(8673);let F=[{name:"desktop",icon:A.tut},{name:"mobile",icon:k.rle}];function U(e){let{onReset:t,htmlHistory:s,setHtml:r,device:l,setDevice:n,iframeRef:i}=e,{user:o}=(0,H.J)();return(0,a.jsxs)("footer",{className:"border-t bg-slate-200 border-slate-300 dark:bg-neutral-950 dark:border-neutral-800 px-3 py-2 flex items-center justify-between sticky bottom-0 z-20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o&&((null==o?void 0:o.isLocalUse)?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"max-w-max bg-amber-500/10 rounded-full px-3 py-1 text-amber-500 border border-amber-500/20 text-sm font-semibold",children:"Local Usage"})}):(0,a.jsx)($.B,{className:"!p-1 !pr-3 !h-auto"})),o&&(0,a.jsx)("p",{className:"text-neutral-700",children:"|"}),(0,a.jsxs)(b.$,{size:"sm",variant:"secondary",onClick:t,children:[(0,a.jsx)(D.jgn,{className:"text-sm"}),"New ",(0,a.jsx)("span",{className:"max-lg:hidden",children:"Project"})]}),s&&s.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-neutral-700",children:"|"}),(0,a.jsx)(I,{history:s,setHtml:r})]})]}),(0,a.jsxs)("div",{className:"flex justify-end items-center gap-2.5",children:[(0,a.jsx)("a",{href:"https://huggingface.co/spaces/victor/deepsite-gallery",target:"_blank",children:(0,a.jsxs)(b.$,{size:"sm",variant:"ghost",children:[(0,a.jsx)(z.A,{className:"size-3.5"}),(0,a.jsx)("span",{className:"max-lg:hidden",children:"DeepSite Gallery"})]})}),(0,a.jsx)("a",{target:"_blank",href:"https://huggingface.co/spaces/enzostvs/deepsite/discussions/157",children:(0,a.jsxs)(b.$,{size:"sm",variant:"outline",children:[(0,a.jsx)(S.A,{className:"size-3.5"}),(0,a.jsx)("span",{className:"max-lg:hidden",children:"Help"})]})}),(0,a.jsxs)(b.$,{size:"sm",variant:"outline",onClick:()=>{if(null==i?void 0:i.current){let e=i.current,t=e.srcdoc;e.srcdoc="",setTimeout(()=>{e.srcdoc=t},10)}},children:[(0,a.jsx)(C.A,{className:"size-3.5"}),(0,a.jsx)("span",{className:"max-lg:hidden",children:"Refresh Preview"})]}),(0,a.jsxs)("div",{className:"flex items-center rounded-full p-0.5 bg-neutral-700/70 relative overflow-hidden z-0 max-lg:hidden gap-0.5",children:[(0,a.jsx)("div",{className:p()("absolute left-0.5 top-0.5 rounded-full bg-white size-7 -z-[1] transition-all duration-200",{"translate-x-[calc(100%+2px)]":"mobile"===l})}),F.map(e=>(0,a.jsx)("button",{className:p()("rounded-full text-neutral-300 size-7 flex items-center justify-center cursor-pointer",{"!text-black":l===e.name,"hover:bg-neutral-800":l!==e.name}),onClick:()=>n(e.name),children:(0,a.jsx)(e.icon,{className:"text-sm"})},e.name))]})]})]})}var M=s(4646);function W(e){let{width:t=40,height:s=40,x:l=-1,y:n=-1,strokeDasharray:i="0",squares:o,className:c,...d}=e,u=(0,r.useId)();return(0,a.jsxs)("svg",{"aria-hidden":"true",className:(0,P.cn)("pointer-events-none absolute inset-0 h-full w-full fill-gray-400/30 stroke-neutral-700 -z-[1]",c),...d,children:[(0,a.jsx)("defs",{children:(0,a.jsx)("pattern",{id:u,width:t,height:s,patternUnits:"userSpaceOnUse",x:l,y:n,children:(0,a.jsx)("path",{d:"M.5 ".concat(s,"V.5H").concat(t),fill:"none",strokeDasharray:i})})}),(0,a.jsx)("rect",{width:"100%",height:"100%",strokeWidth:0,fill:"url(#".concat(u,")")}),o&&(0,a.jsx)("svg",{x:l,y:n,className:"overflow-visible",children:o.map(e=>{let[r,l]=e;return(0,a.jsx)("rect",{strokeWidth:"0",width:t-1,height:s-1,x:r*t+1,y:l*s+1},"".concat(r,"-").concat(l))})})]})}let O=e=>{switch(e.toLowerCase()){case"h1":return"Heading 1";case"h2":return"Heading 2";case"h3":return"Heading 3";case"h4":return"Heading 4";case"h5":return"Heading 5";case"h6":return"Heading 6";case"p":return"Text Paragraph";case"span":return"Inline Text";case"button":return"Button";case"input":return"Input Field";case"select":return"Select Dropdown";case"textarea":return"Text Area";case"form":return"Form";case"table":return"Table";case"thead":return"Table Header";case"tbody":return"Table Body";case"tr":return"Table Row";case"th":return"Table Header Cell";case"td":return"Table Data Cell";case"nav":return"Navigation";case"header":return"Header";case"footer":return"Footer";case"section":return"Section";case"article":return"Article";case"aside":return"Aside";case"div":return"Block";case"main":return"Main Content";case"details":return"Details";case"summary":return"Summary";case"code":return"Code Snippet";case"pre":return"Preformatted Text";case"kbd":return"Keyboard Input";case"label":return"Label";case"canvas":return"Canvas";case"svg":return"SVG Graphic";case"video":return"Video Player";case"audio":return"Audio Player";case"iframe":return"Embedded Frame";case"link":case"a":return"Link";case"img":return"Image";case"ul":return"Unordered List";case"ol":return"Ordered List";case"li":return"List Item";case"blockquote":return"Blockquote";default:return e.charAt(0).toUpperCase()+e.slice(1)}},B=e=>{let{html:t,isResizing:s,isAiWorking:n,ref:i,device:o,currentTab:c,iframeRef:d,isEditableModeEnabled:u,onClickElement:x}=e,[h,f]=(0,r.useState)(null),g=e=>{if(null==d?void 0:d.current){let t=d.current.contentDocument;if(t){let s=e.target;if(h===s||s===t.body)return f(null);f(s),s.classList.add("hovered-element")}}},j=()=>{f(null)},v=e=>{if(null==d?void 0:d.current){let t=d.current.contentDocument;if(t){let s=e.target;s!==t.body&&(null==x||x(s))}}};(0,m.A)(()=>{let e=()=>{var e;if(null==d||null==(e=d.current)?void 0:e.contentDocument){let e=d.current.contentDocument;e.removeEventListener("mouseover",g),e.removeEventListener("mouseout",j),e.removeEventListener("click",v)}};if(null==d?void 0:d.current){let t=d.current.contentDocument;t&&(e(),u&&(t.addEventListener("mouseover",g),t.addEventListener("mouseout",j),t.addEventListener("click",v)))}return e},[d,u]);let b=(0,r.useMemo)(()=>u&&h?h:null,[h,u]);return(0,a.jsxs)("div",{ref:i,className:p()("w-full border-l border-gray-900 h-full relative z-0 flex items-center justify-center",{"lg:p-4":"preview"!==c,"max-lg:h-0":"chat"===c,"max-lg:h-full":"preview"===c}),onClick:e=>{n&&(e.preventDefault(),e.stopPropagation(),l.oR.warning("Please wait for the AI to finish working."))},children:[(0,a.jsx)(W,{x:-1,y:-1,strokeDasharray:"4 2",className:(0,P.cn)("[mask-image:radial-gradient(900px_circle_at_center,white,transparent)]")}),!n&&h&&b&&(0,a.jsx)("div",{className:"cursor-pointer absolute bg-sky-500/10 border-[2px] border-dashed border-sky-500 rounded-r-lg rounded-b-lg p-3 z-10 pointer-events-none",style:{top:b.getBoundingClientRect().top+24*("preview"!==c),left:b.getBoundingClientRect().left+24*("preview"!==c),width:b.getBoundingClientRect().width,height:b.getBoundingClientRect().height},children:(0,a.jsx)("span",{className:"bg-sky-500 rounded-t-md text-sm text-neutral-100 px-2 py-0.5 -translate-y-7 absolute top-0 left-0",children:O(b.tagName.toLowerCase())})}),(0,a.jsx)("iframe",{id:"preview-iframe",ref:d,title:"output",className:p()("w-full select-none transition-all duration-200 bg-black h-full",{"pointer-events-none":s||n,"lg:max-w-md lg:mx-auto lg:!rounded-[42px] lg:border-[8px] lg:border-neutral-700 lg:shadow-2xl lg:h-[80dvh] lg:max-h-[996px]":"mobile"===o,"lg:border-[8px] lg:border-neutral-700 lg:shadow-2xl lg:rounded-[24px]":"preview"!==c&&"desktop"===o}),srcDoc:t,onLoad:()=>{var e,t,s;(null==d||null==(s=d.current)||null==(t=s.contentWindow)||null==(e=t.document)?void 0:e.body)&&d.current.contentWindow.document.body.scrollIntoView({block:n?"end":"start",inline:"nearest",behavior:n?"instant":"smooth"})}})]})},V=e=>{let[t,s]=(0,r.useState)(e),[a,l]=(0,r.useState)([]),[n,i]=(0,r.useState)([]);return{html:t,setHtml:s,htmlHistory:a,setHtmlHistory:l,prompts:n,setPrompts:i}};var G=s(6474),q=s(2580),Y=s(9881),J=s(9840),Z=s(437),K=s(955);let X=e=>{let{className:t}=e;return(0,a.jsx)("span",{className:"".concat(t," bg-linear-to-br shadow-green-500/10 dark:shadow-green-500/20 inline-block -skew-x-12 border border-gray-200 from-pink-300 via-green-200 to-yellow-200 text-xs font-bold text-black shadow-lg rounded-md px-2.5 py-0.5"),children:"PRO"})},Q=e=>{let{open:t,html:s,onClose:r}=e,[,l]=(0,o.A)("html_content");return(0,a.jsx)(J.lG,{open:t,onOpenChange:r,children:(0,a.jsxs)(J.Cf,{className:"sm:max-w-lg lg:!p-8 !rounded-3xl !bg-white !border-neutral-100",children:[(0,a.jsx)(J.L3,{className:"hidden"}),(0,a.jsxs)("main",{className:"flex flex-col items-start text-left relative pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start -space-x-4 mb-5",children:[(0,a.jsx)("div",{className:"size-14 rounded-full bg-pink-200 shadow-2xs flex items-center justify-center text-3xl opacity-50",children:"\uD83D\uDE80"}),(0,a.jsx)("div",{className:"size-16 rounded-full bg-amber-200 shadow-2xl flex items-center justify-center text-4xl z-2",children:"\uD83E\uDD29"}),(0,a.jsx)("div",{className:"size-14 rounded-full bg-sky-200 shadow-2xs flex items-center justify-center text-3xl opacity-50",children:"\uD83E\uDD73"})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-950",children:"Only $9 to enhance your possibilities"}),(0,a.jsx)("p",{className:"text-neutral-500 text-base mt-2 max-w-sm",children:"It seems like you have reached the monthly free limit of DeepSite."}),(0,a.jsx)("hr",{className:"bg-neutral-200 w-full max-w-[150px] my-6"}),(0,a.jsxs)("p",{className:"text-lg mt-3 text-neutral-900 font-semibold",children:["Upgrade to a ",(0,a.jsx)(X,{className:"mx-1"})," Account, and unlock your DeepSite high quota access ⚡"]}),(0,a.jsxs)("ul",{className:"mt-3 space-y-1 text-neutral-500",children:[(0,a.jsx)("li",{className:"text-sm text-neutral-500 space-x-2 flex items-center justify-start gap-2 mb-3",children:"You'll also unlock some Hugging Face PRO features, like:"}),(0,a.jsxs)("li",{className:"text-sm space-x-2 flex items-center justify-start gap-2",children:[(0,a.jsx)(Z.A,{className:"text-emerald-500 size-4"}),"Get acces to thousands of AI app (ZeroGPU) with high quota"]}),(0,a.jsxs)("li",{className:"text-sm space-x-2 flex items-center justify-start gap-2",children:[(0,a.jsx)(Z.A,{className:"text-emerald-500 size-4"}),"Get exclusive early access to new features and updates"]}),(0,a.jsxs)("li",{className:"text-sm space-x-2 flex items-center justify-start gap-2",children:[(0,a.jsx)(Z.A,{className:"text-emerald-500 size-4"}),"Get free credits across all Inference Providers"]}),(0,a.jsx)("li",{className:"text-sm text-neutral-500 space-x-2 flex items-center justify-start gap-2 mt-3",children:"... and lots more!"})]}),(0,a.jsx)(b.$,{variant:"black",size:"lg",className:"w-full !text-base !h-11 mt-8",onClick:()=>{(0,K.b)(s)||l(s),window.open("https://huggingface.co/subscribe/pro?from=DeepSite","_blank"),r(!1)},children:"Subscribe to PRO ($9/month)"})]})]})})},ee={"fireworks-ai":{name:"Fireworks AI",max_tokens:131e3,id:"fireworks-ai"},nebius:{name:"Nebius AI Studio",max_tokens:131e3,id:"nebius"},sambanova:{name:"SambaNova",max_tokens:32e3,id:"sambanova"},novita:{name:"NovitaAI",max_tokens:16e3,id:"novita"},hyperbolic:{name:"Hyperbolic",max_tokens:131e3,id:"hyperbolic"},together:{name:"Together AI",max_tokens:128e3,id:"together"}},et=[{value:"deepseek-ai/DeepSeek-V3-0324",label:"DeepSeek V3 O324",providers:["fireworks-ai","nebius","sambanova","novita","hyperbolic"],autoProvider:"novita"},{value:"deepseek-ai/DeepSeek-R1-0528",label:"DeepSeek R1 0528",providers:["fireworks-ai","novita","hyperbolic","nebius","together","sambanova"],autoProvider:"novita",isNew:!0,isThinker:!0}];var es=s(7681),ea=s(8164);function er(){let[e,t]=(0,c.A)();return(0,a.jsx)(J.lG,{children:(0,a.jsxs)("form",{children:[(0,a.jsx)(J.zM,{asChild:!0,children:(0,a.jsx)(b.$,{size:"iconXs",variant:"outline",className:"!border-neutral-600 !text-neutral-400 !hover:!border-neutral-500 hover:!text-neutral-300",children:(0,a.jsx)(es.q0S,{className:"size-4"})})}),(0,a.jsxs)(J.Cf,{className:"sm:max-w-lg lg:!p-8 !rounded-3xl !bg-white !border-neutral-100",children:[(0,a.jsx)(J.L3,{className:"hidden"}),(0,a.jsxs)("main",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-start -space-x-4 mb-5",children:[(0,a.jsx)("div",{className:"size-11 rounded-full bg-pink-300 shadow-2xs flex items-center justify-center text-2xl",children:"\uD83D\uDE0E"}),(0,a.jsx)("div",{className:"size-11 rounded-full bg-amber-300 shadow-2xs flex items-center justify-center text-2xl z-2",children:"\uD83D\uDE07"}),(0,a.jsx)("div",{className:"size-11 rounded-full bg-sky-300 shadow-2xs flex items-center justify-center text-2xl",children:"\uD83D\uDE1C"})]}),(0,a.jsx)("p",{className:"text-xl font-semibold text-neutral-950 max-w-[200px]",children:"Invite your friends to join us!"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 mt-2 max-w-sm",children:"Support us and share the love and let them know about our awesome platform."}),(0,a.jsxs)("div",{className:"mt-4 space-x-3.5",children:[(0,a.jsx)("a",{href:"https://x.com/intent/post?url=https://enzostvs-deepsite.hf.space/&text=Checkout%20this%20awesome%20Ai%20Tool!%20Vibe%20coding%20has%20never%20been%20so%20easy✨",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(b.$,{variant:"lightGray",size:"sm",className:"!text-neutral-700",children:[(0,a.jsx)(A.TCj,{className:"size-4"}),"Share on"]})}),(0,a.jsxs)(b.$,{variant:"lightGray",size:"sm",className:"!text-neutral-700",onClick:()=>{t("https://enzostvs-deepsite.hf.space/"),l.oR.success("Invite link copied to clipboard!")},children:[(0,a.jsx)(ea.A,{className:"size-4"}),"Copy Invite Link"]})]})]})]})]})})}var el=s(7509),en=s(3347),ei=s(4582),eo=s(5196),ec=s(7863);function ed(e){let{...t}=e;return(0,a.jsx)(ei.bL,{"data-slot":"select",...t})}function eu(e){let{...t}=e;return(0,a.jsx)(ei.YJ,{"data-slot":"select-group",...t})}function ex(e){let{...t}=e;return(0,a.jsx)(ei.WT,{"data-slot":"select-value",...t})}function em(e){let{className:t,size:s="default",children:r,...l}=e;return(0,a.jsxs)(ei.l9,{"data-slot":"select-trigger","data-size":s,className:(0,P.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[r,(0,a.jsx)(ei.In,{asChild:!0,children:(0,a.jsx)(G.A,{className:"size-4 opacity-50"})})]})}function eh(e){let{className:t,children:s,position:r="popper",...l}=e;return(0,a.jsx)(ei.ZL,{children:(0,a.jsxs)(ei.UC,{"data-slot":"select-content",className:(0,P.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...l,children:[(0,a.jsx)(eg,{}),(0,a.jsx)(ei.LM,{className:(0,P.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(ej,{})]})})}function ep(e){let{className:t,...s}=e;return(0,a.jsx)(ei.JU,{"data-slot":"select-label",className:(0,P.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...s})}function ef(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(ei.q7,{"data-slot":"select-item",className:(0,P.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(ei.VF,{children:(0,a.jsx)(eo.A,{className:"size-4"})})}),(0,a.jsx)(ei.p4,{children:s})]})}function eg(e){let{className:t,...s}=e;return(0,a.jsx)(ei.PP,{"data-slot":"select-scroll-up-button",className:(0,P.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(ec.A,{className:"size-4"})})}function ej(e){let{className:t,...s}=e;return(0,a.jsx)(ei.wn,{"data-slot":"select-scroll-down-button",className:(0,P.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(G.A,{className:"size-4"})})}function ev(e){let{open:t,onClose:s,provider:l,model:n,error:i,isFollowUp:o=!1,onChange:c,onModelChange:d}=e,u=(0,r.useMemo)(()=>{var e;let t=null==(e=et.find(e=>e.value===n))?void 0:e.providers;return t?Object.keys(ee).filter(e=>t.includes(e)):Object.keys(ee)},[n]);return(0,m.A)(()=>{"auto"===l||u.includes(l)||c("auto")},[n,l]),(0,a.jsx)("div",{className:"",children:(0,a.jsxs)(E,{open:t,onOpenChange:s,children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsxs)(b.$,{variant:"black",size:"sm",children:[(0,a.jsx)(el.ajF,{className:"size-4"}),"Settings"]})}),(0,a.jsxs)(T,{className:"!rounded-2xl p-0 !w-96 overflow-hidden !bg-neutral-900",align:"center",children:[(0,a.jsx)("header",{className:"flex items-center justify-center text-sm px-4 py-3 border-b gap-2 bg-neutral-950 border-neutral-800 font-semibold text-neutral-200",children:"Customize Settings"}),(0,a.jsxs)("main",{className:"px-4 pt-5 pb-6 space-y-5",children:[""!==i&&(0,a.jsx)("p",{className:"text-red-500 text-sm font-medium mb-2 flex items-center justify-between bg-red-500/10 p-2 rounded-md",children:i}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("p",{className:"text-neutral-300 text-sm mb-2.5",children:"Choose a DeepSeek model"}),(0,a.jsxs)(ed,{defaultValue:n,onValueChange:d,children:[(0,a.jsx)(em,{className:"w-full",children:(0,a.jsx)(ex,{placeholder:"Select a DeepSeek model"})}),(0,a.jsx)(eh,{children:(0,a.jsxs)(eu,{children:[(0,a.jsx)(ep,{children:"DeepSeek models"}),et.map(e=>{let{value:t,label:s,isNew:r=!1,isThinker:l=!1}=e;return(0,a.jsxs)(ef,{value:t,className:"",disabled:l&&o,children:[s,r&&(0,a.jsx)("span",{className:"text-xs bg-gradient-to-br from-sky-400 to-sky-600 text-white rounded-full px-1.5 py-0.5",children:"New"})]},t)})]})})]})]}),o&&(0,a.jsx)("div",{className:"bg-amber-500/10 border-amber-500/10 p-3 text-xs text-amber-500 border rounded-lg",children:"Note: You can't use a Thinker model for follow-up requests. We automatically switch to the default model for you."}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-300 text-sm mb-1.5",children:"Use auto-provider"}),(0,a.jsx)("p",{className:"text-xs text-neutral-400/70",children:"We'll automatically select the best provider for you based on your prompt."})]}),(0,a.jsx)("div",{className:p()("bg-neutral-700 rounded-full min-w-10 w-10 h-6 flex items-center justify-between p-1 cursor-pointer transition-all duration-200",{"!bg-sky-500":"auto"===l}),onClick:()=>{let e=et.find(e=>e.value===n);"auto"===l&&(null==e?void 0:e.autoProvider)?c(e.autoProvider):c("auto")},children:(0,a.jsx)("div",{className:p()("w-4 h-4 rounded-full shadow-md transition-all duration-200 bg-neutral-200",{"translate-x-4":"auto"===l})})})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("p",{className:"text-neutral-300 text-sm mb-2",children:"Inference Provider"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-1.5",children:u.map(e=>(0,a.jsxs)(b.$,{variant:e===l?"default":"secondary",size:"sm",onClick:()=>{c(e)},children:[(0,a.jsx)(y.default,{src:"/providers/".concat(e,".svg"),alt:ee[e].name,className:"size-5 mr-2",width:20,height:20}),ee[e].name,e===l&&(0,a.jsx)(en.Ked,{className:"ml-2 size-4 text-blue-500"})]},e))})]})]})]})]})]})})}var eb=s(8735),ey=s(5904),eN=s(9852),ew=s(4608),ek=s(1886);function ez(e){let{onRedesign:t}=e,[s,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),u=e=>RegExp(/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/,"i").test(e),x=async()=>{var e,a;if(c)return;if(!s)return void l.oR.error("Please enter a URL.");if(!u(s))return void l.oR.error("Please enter a valid URL.");d(!0);let r=await ek.F.put("/re-design",{url:s.trim()});(null==r||null==(e=r.data)?void 0:e.ok)?(o(!1),n(""),t(r.data.markdown),l.oR.success("DeepSite is redesigning your site! Let him cook... \uD83D\uDD25")):l.oR.error((null==r||null==(a=r.data)?void 0:a.error)||"Failed to redesign the site."),d(!1)};return(0,a.jsx)(E,{open:i,onOpenChange:o,children:(0,a.jsxs)("form",{children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsx)(b.$,{size:"iconXs",variant:"outline",className:"!border-neutral-600 !text-neutral-400 !hover:!border-neutral-500 hover:!text-neutral-300",children:(0,a.jsx)(ey.A,{className:"size-4"})})}),(0,a.jsxs)(T,{align:"start",className:"!rounded-2xl !p-0 !bg-white !border-neutral-100 min-w-xs text-center overflow-hidden",children:[(0,a.jsxs)("header",{className:"bg-neutral-50 p-6 border-b border-neutral-200/60",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center -space-x-4 mb-3",children:[(0,a.jsx)("div",{className:"size-9 rounded-full bg-pink-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"\uD83C\uDFA8"}),(0,a.jsx)("div",{className:"size-11 rounded-full bg-amber-200 shadow-2xl flex items-center justify-center text-2xl z-2",children:"\uD83E\uDD73"}),(0,a.jsx)("div",{className:"size-9 rounded-full bg-sky-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"\uD83D\uDC8E"})]}),(0,a.jsx)("p",{className:"text-xl font-semibold text-neutral-950",children:"Redesign your Site!"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 mt-1.5",children:"Try our new Redesign feature to give your site a fresh look."})]}),(0,a.jsxs)("main",{className:"space-y-4 p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-neutral-700 mb-2",children:"Enter your website URL to get started:"}),(0,a.jsx)(eN.p,{type:"text",placeholder:"https://example.com",value:s,onChange:e=>n(e.target.value),onBlur:e=>{let t=e.target.value.trim();return t?u(t)?void n(t):void l.oR.error("Please enter a valid URL."):void n("")},className:"!bg-white !border-neutral-300 !text-neutral-800 !placeholder:text-neutral-400 selection:!bg-blue-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-neutral-700 mb-2",children:"Then, let's redesign it!"}),(0,a.jsx)(b.$,{variant:"black",onClick:x,className:"relative w-full",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ew.A,{overlay:!1,className:"ml-2 size-4 animate-spin"}),"Fetching your site..."]}):(0,a.jsxs)(a.Fragment,{children:["Redesign ",(0,a.jsx)(ey.A,{className:"size-4"})]})})]})]})]})]})})}var eS=s(6981);function eC(e){let{className:t,...s}=e;return(0,a.jsx)(eS.bL,{"data-slot":"checkbox",className:(0,P.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-3.5 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(eS.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(eo.A,{className:"size-3"})})})}var eA=s(9613);function eD(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(eA.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function eL(e){let{...t}=e;return(0,a.jsx)(eD,{children:(0,a.jsx)(eA.bL,{"data-slot":"tooltip",...t})})}function eR(e){let{...t}=e;return(0,a.jsx)(eA.l9,{"data-slot":"tooltip-trigger",...t})}var eP=s(9621),eE=s(4861),e_=s(8106);function eT(e){let{...t}=e;return(0,a.jsx)(e_.bL,{"data-slot":"collapsible",...t})}function eI(e){let{...t}=e;return(0,a.jsx)(e_.R6,{"data-slot":"collapsible-trigger",...t})}let e$=e=>{var t;let{element:s,isAiWorking:r=!1,onDelete:l}=e;if(!s)return null;let n=s.tagName.toLowerCase();return(0,a.jsx)(eT,{className:p()("border border-neutral-700 rounded-xl p-1.5 pr-3 max-w-max hover:brightness-110 transition-all duration-200 ease-in-out !cursor-pointer",{"!cursor-pointer":!r,"opacity-50 !cursor-not-allowed":r}),disabled:r,onClick:()=>{!r&&l&&l()},children:(0,a.jsxs)(eI,{className:"flex items-center justify-start gap-2 cursor-pointer",children:[(0,a.jsx)("div",{className:"rounded-lg bg-neutral-700 size-6 flex items-center justify-center",children:(0,a.jsx)(eP.A,{className:"text-neutral-300 size-3.5"})}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-neutral-300",children:[null==(t=s.textContent)?void 0:t.trim().split(/\s+/)[0]," ",O(n)]}),(0,a.jsx)(eE.A,{className:"text-neutral-300 size-4"})]})})};var eH=s(1284);let eF=()=>(0,a.jsxs)(E,{children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsx)(eH.A,{className:"size-3 text-neutral-300 cursor-pointer"})}),(0,a.jsxs)(T,{align:"start",className:"!rounded-2xl !p-0 min-w-xs text-center overflow-hidden",children:[(0,a.jsx)("header",{className:"bg-neutral-950 px-4 py-3 border-b border-neutral-700/70",children:(0,a.jsx)("p",{className:"text-base text-neutral-200 font-semibold",children:"⚡ Faster, Smarter Updates"})}),(0,a.jsxs)("main",{className:"p-4",children:[(0,a.jsx)("p",{className:"text-neutral-300 text-sm",children:"Using the Diff-Patch system, allow DeepSite to intelligently update your project without rewritting the entire codebase."}),(0,a.jsx)("p",{className:"text-neutral-500 text-sm mt-2",children:"This means faster updates, less data usage, and a more efficient development process."})]})]})]});function eU(e){let{html:t,setHtml:s,onScrollToBottom:n,isAiWorking:i,setisAiWorking:c,isEditableModeEnabled:d=!1,selectedElement:u,setSelectedElement:x,setIsEditableModeEnabled:h,onNewPrompt:f,onSuccess:g}=e,j=(0,r.useRef)(null),v=(0,r.useRef)(null),[y,N]=(0,r.useState)(!1),[w,z]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1),[A,D]=(0,r.useState)(""),[L,R]=(0,o.A)("provider","auto"),[P,E]=(0,o.A)("model",et[0].value),[_,T]=(0,r.useState)(!1),[I,$]=(0,r.useState)(""),[H,F]=(0,r.useState)(!1),[U,M]=(0,r.useState)(void 0),[W,O]=(0,r.useState)(!1),[B,V]=(0,r.useState)(!0),[J,Z]=(0,r.useState)(null),[X,ee]=(0,r.useState)(!0),es=async e=>{if(i||!e&&!w.trim())return;c(!0),$(""),M(""),O(!1),V(!0);let a="",r="",o=0,d=new AbortController;Z(d);try{if(f(w),!X||e||ea){let i=await fetch("/api/ask-ai",{method:"POST",body:JSON.stringify({prompt:w,provider:L,model:P,html:ea?"":t,redesignMarkdown:e}),headers:{"Content-Type":"application/json","x-forwarded-for":window.location.hostname},signal:d.signal});if(i&&i.body){let e,t=i.body.getReader(),d=new TextDecoder("utf-8"),u=et.find(e=>e.value===P),x=async()=>{var i,m,h,p;let{done:f,value:j}=await t.read();if(f){let e=a.trim().startsWith("{")&&a.trim().endsWith("}")?JSON.parse(a):null;if(e&&!e.ok){e.openLogin?N(!0):e.openSelectProvider?(T(!0),$(e.message)):e.openProModal?F(!0):l.oR.error(e.message),c(!1);return}l.oR.success("AI responded successfully"),D(w),z(""),c(!1),C(!0),E(et[0].value),v.current&&v.current.play();let t=null==(m=a.match(/<!DOCTYPE html>[\s\S]*<\/html>/))?void 0:m[0];t&&s(t),g(null!=t?t:a,w);return}let b=d.decode(j,{stream:!0});if(r+=b,null==u?void 0:u.isThinker){let t=null==(h=r.match(/<think>[\s\S]*/))?void 0:h[0];if(t&&!(null==r?void 0:r.includes("</think>")))return(null!=(p=null==e?void 0:e.length)?p:0)<3&&O(!0),M(t.replace("<think>","").trim()),e+=b,x()}a+=b;let y=null==(i=a.match(/<!DOCTYPE html>[\s\S]*/))?void 0:i[0];if(y){V(!1);let e=y;e.includes("<head>")&&!e.includes("</head>")&&(e+="\n</head>"),e.includes("<body")&&!e.includes("</body>")&&(e+="\n</body>"),e.includes("</html>")||(e+="\n</html>");let t=Date.now();t-o>300&&(s(e),o=t),e.length>200&&n()}x()};x()}}else{let e=u?u.outerHTML:"",a=await fetch("/api/ask-ai",{method:"PUT",body:JSON.stringify({prompt:w,provider:L,previousPrompt:A,model:P,html:t,selectedElementHtml:e}),headers:{"Content-Type":"application/json","x-forwarded-for":window.location.hostname},signal:d.signal});if(a&&a.body){let e=await a.json();if(!a.ok){e.openLogin?N(!0):e.openSelectProvider?(T(!0),$(e.message)):e.openProModal?F(!0):l.oR.error(e.message),c(!1);return}s(e.html),l.oR.success("AI responded successfully"),D(w),z(""),c(!1),g(e.html,w,e.updatedLines),v.current&&v.current.play()}}}catch(e){c(!1),l.oR.error(e.message),e.openLogin&&N(!0)}};(0,m.A)(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},[U]),(0,m.A)(()=>{B||O(!1)},[B]);let ea=(0,r.useMemo)(()=>(0,K.b)(t),[t]);return(0,a.jsxs)("div",{className:"px-3",children:[(0,a.jsxs)("div",{className:"relative bg-neutral-800 border border-neutral-700 rounded-2xl ring-[4px] focus-within:ring-neutral-500/30 focus-within:border-neutral-600 ring-transparent z-10 w-full group",children:[U&&(0,a.jsxs)("div",{className:"w-full border-b border-neutral-700 relative overflow-hidden",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between px-5 py-2.5 group hover:bg-neutral-600/20 transition-colors duration-200 cursor-pointer",onClick:()=>{O(!W)},children:[(0,a.jsx)("p",{className:"text-sm font-medium text-neutral-300 group-hover:text-neutral-200 transition-colors duration-200",children:B?"DeepSite is thinking...":"DeepSite's plan"}),(0,a.jsx)(G.A,{className:p()("size-4 text-neutral-400 group-hover:text-neutral-300 transition-all duration-200",{"rotate-180":W})})]}),(0,a.jsx)("main",{ref:j,className:p()("overflow-y-auto transition-all duration-200 ease-in-out",{"max-h-[0px]":!W,"min-h-[250px] max-h-[250px] border-t border-neutral-700":W}),children:(0,a.jsx)("p",{className:"text-[13px] text-neutral-400 whitespace-pre-line px-5 pb-4 pt-3",children:U})})]}),u&&(0,a.jsx)("div",{className:"px-4 pt-3",children:(0,a.jsx)(e$,{element:u,isAiWorking:i,onDelete:()=>x(null)})}),(0,a.jsxs)("div",{className:"w-full relative flex items-center justify-between",children:[i&&(0,a.jsxs)("div",{className:"absolute bg-neutral-800 rounded-lg bottom-0 left-4 w-[calc(100%-30px)] h-full z-1 flex items-center justify-between max-lg:text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start gap-2",children:[(0,a.jsx)(ew.A,{overlay:!1,className:"!size-4"}),(0,a.jsxs)("p",{className:"text-neutral-400 text-sm",children:["AI is ",B?"thinking":"coding","..."," "]})]}),(0,a.jsxs)("div",{className:"text-xs text-neutral-400 px-1 py-0.5 rounded-md border border-neutral-600 flex items-center justify-center gap-1.5 bg-neutral-800 hover:brightness-110 transition-all duration-200 cursor-pointer",onClick:()=>{J&&(J.abort(),Z(null),c(!1),M(""),O(!1),V(!1))},children:[(0,a.jsx)(k.mal,{}),"Stop generation"]})]}),(0,a.jsx)("input",{type:"text",disabled:i,className:p()("w-full bg-transparent text-sm outline-none text-white placeholder:text-neutral-400 p-4",{"!pt-2.5":u&&!i}),placeholder:u?"Ask DeepSite about ".concat(u.tagName.toLowerCase(),"..."):S?"Ask DeepSite for edits":"Ask DeepSite anything...",value:w,onChange:e=>z(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||es()}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 pb-3",children:[(0,a.jsxs)("div",{className:"flex-1 flex items-center justify-start gap-1.5",children:[(0,a.jsx)(ez,{onRedesign:e=>es(e)}),!ea&&(0,a.jsxs)(eL,{children:[(0,a.jsx)(eR,{asChild:!0,children:(0,a.jsxs)(b.$,{size:"xs",variant:d?"default":"outline",onClick:()=>{null==h||h(!d)},className:p()("h-[28px]",{"!text-neutral-400 hover:!text-neutral-200 !border-neutral-600 !hover:!border-neutral-500":!d}),children:[(0,a.jsx)(q.A,{className:"size-4"}),"Edit"]})}),(0,a.jsx)(eA.ZI,{align:"start",className:"bg-neutral-950 text-xs text-neutral-200 py-1 px-2 rounded-md -translate-y-0.5",children:"Select an element on the page to ask DeepSite edit it directly."})]}),(0,a.jsx)(er,{})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(ev,{provider:L,model:P,onChange:R,onModelChange:E,open:_,error:I,isFollowUp:!ea&&X,onClose:T}),(0,a.jsx)(b.$,{size:"iconXs",disabled:i||!w.trim(),onClick:()=>es(),children:(0,a.jsx)(Y.A,{className:"size-4"})})]})]}),(0,a.jsx)(eb.z,{open:y,onClose:()=>N(!1),html:t}),(0,a.jsx)(Q,{html:t,open:H,onClose:()=>F(!1)}),!ea&&(0,a.jsxs)("div",{className:"absolute top-0 right-0 -translate-y-[calc(100%+8px)] select-none text-xs text-neutral-400 flex items-center justify-center gap-2 bg-neutral-800 border border-neutral-700 rounded-md p-1 pr-2.5",children:[(0,a.jsxs)("label",{htmlFor:"diff-patch-checkbox",className:"flex items-center gap-1.5 cursor-pointer",children:[(0,a.jsx)(eC,{id:"diff-patch-checkbox",checked:X,onCheckedChange:e=>{!0!==e||ea||E(et[0].value),ee(!0===e)}}),"Diff-Patch Update"]}),(0,a.jsx)(eF,{})]})]}),(0,a.jsxs)("audio",{ref:v,id:"audio",className:"hidden",children:[(0,a.jsx)("source",{src:"/success.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]})]})}var eM=s(9964);let eW={src:"/_next/static/media/space.b767a44a.svg",height:16,width:16,blurWidth:0,blurHeight:0};function eO(e){let{html:t,prompts:s}=e,n=(0,f.useRouter)(),{user:i}=(0,H.J)(),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[x,m]=(0,r.useState)({title:""}),h=async()=>{var e,a,r;if(!x.title)return void l.oR.error("Please enter a title for your space.");c(!0);try{let a=await ek.F.post("/me/projects",{title:x.title,html:t,prompts:s});a.data.ok?n.push("/projects/".concat(a.data.path,"?deploy=true")):l.oR.error((null==a||null==(e=a.data)?void 0:e.error)||"Failed to create space")}catch(e){l.oR.error((null==(r=e.response)||null==(a=r.data)?void 0:a.error)||e.message)}finally{c(!1)}};return(0,a.jsx)("div",{className:"flex items-center justify-end gap-5",children:(0,a.jsxs)("div",{className:"relative flex items-center justify-end",children:[(null==i?void 0:i.id)?(0,a.jsxs)(E,{children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(b.$,{variant:"default",className:"max-lg:hidden !px-4",children:[(0,a.jsx)(D.rZB,{className:"size-4"}),"Save your Project"]}),(0,a.jsx)(b.$,{variant:"default",size:"sm",className:"lg:hidden",children:"Deploy"})]})}),(0,a.jsxs)(T,{className:"!rounded-2xl !p-0 !bg-white !border-neutral-200 min-w-xs text-center overflow-hidden",align:"end",children:[(0,a.jsxs)("header",{className:"bg-neutral-50 p-6 border-b border-neutral-200/60",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center -space-x-4 mb-3",children:[(0,a.jsx)("div",{className:"size-9 rounded-full bg-amber-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"\uD83D\uDE80"}),(0,a.jsx)("div",{className:"size-11 rounded-full bg-red-200 shadow-2xl flex items-center justify-center z-2",children:(0,a.jsx)(y.default,{src:eW,alt:"Space Icon",className:"size-7"})}),(0,a.jsx)("div",{className:"size-9 rounded-full bg-sky-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"\uD83D\uDC7B"})]}),(0,a.jsx)("p",{className:"text-xl font-semibold text-neutral-950",children:"Deploy as Space!"}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 mt-1.5",children:"Save and Deploy your project to a Space on the Hub. Spaces are a way to share your project with the world."})]}),(0,a.jsxs)("main",{className:"space-y-4 p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-neutral-700 mb-2",children:"Choose a title for your space:"}),(0,a.jsx)(eN.p,{type:"text",placeholder:"My Awesome Website",value:x.title,onChange:e=>m({...x,title:e.target.value}),className:"!bg-white !border-neutral-300 !text-neutral-800 !placeholder:text-neutral-400 selection:!bg-blue-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-neutral-700 mb-2",children:"Then, let's deploy it!"}),(0,a.jsxs)(b.$,{variant:"black",onClick:h,className:"relative w-full",disabled:o,children:["Deploy Space ",(0,a.jsx)(eM.A,{className:"size-4"}),o&&(0,a.jsx)(ew.A,{className:"ml-2 size-4 animate-spin"})]})]})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.$,{variant:"default",className:"max-lg:hidden !px-4",onClick:()=>u(!0),children:[(0,a.jsx)(D.rZB,{className:"size-4"}),"Save your Project"]}),(0,a.jsx)(b.$,{variant:"default",size:"sm",className:"lg:hidden",onClick:()=>u(!0),children:"Save"})]}),(0,a.jsx)(eb.z,{open:d,onClose:()=>u(!1),html:t,title:"Log In to save your Project",description:"Log In through your Hugging Face account to save your project and increase your monthly free limit."})]})})}function eB(e){let{html:t,prompts:s}=e,{namespace:n,repoId:i}=(0,f.useParams)(),[o,c]=(0,r.useState)(!1),d=async()=>{var e,a,r;c(!0);try{let a=await ek.F.put("/me/projects/".concat(n,"/").concat(i),{html:t,prompts:s});a.data.ok?l.oR.success("Your space is updated! \uD83C\uDF89",{action:{label:"See Space",onClick:()=>{window.open("https://huggingface.co/spaces/".concat(n,"/").concat(i),"_blank")}}}):l.oR.error((null==a||null==(e=a.data)?void 0:e.error)||"Failed to update space")}catch(e){l.oR.error((null==(r=e.response)||null==(a=r.data)?void 0:a.error)||e.message)}finally{c(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.$,{variant:"default",className:"max-lg:hidden !px-4 relative",onClick:d,children:[(0,a.jsx)(D.rZB,{className:"size-4"}),"Save your Project"," ",o&&(0,a.jsx)(ew.A,{className:"ml-2 size-4 animate-spin"})]}),(0,a.jsxs)(b.$,{variant:"default",size:"sm",className:"lg:hidden relative",onClick:d,children:["Save ",o&&(0,a.jsx)(ew.A,{className:"ml-2 size-4 animate-spin"})]})]})}var eV=s(5831);let eG=e=>{var t,s;let{project:h}=e,[g,,j]=(0,o.A)("html_content"),[,v]=(0,c.A)(),{html:b,setHtml:y,htmlHistory:N,setHtmlHistory:k,prompts:z,setPrompts:S}=V(null!=(s=null!=(t=null==h?void 0:h.html)?t:g)?s:M.v),C=(0,f.useSearchParams)(),A=(0,f.useRouter)(),D="true"===C.get("deploy"),L=(0,r.useRef)(null),R=(0,r.useRef)(null),P=(0,r.useRef)(null),E=(0,r.useRef)(null),_=(0,r.useRef)(null),T=(0,r.useRef)(null),[I,$]=(0,r.useState)("chat"),[H,F]=(0,r.useState)("desktop"),[W,O]=(0,r.useState)(!1),[G,q]=(0,r.useState)(!1),[Y,J]=(0,r.useState)(!1),[Z,X]=(0,r.useState)(null),Q=()=>{if(P.current&&R.current)if(window.innerWidth>=1024){var e,t;let s=null!=(t=null==(e=_.current)?void 0:e.offsetWidth)?t:8,a=window.innerWidth-s,r=a/3;P.current.style.width="".concat(r,"px"),R.current.style.width="".concat(a-r,"px")}else P.current.style.width="",R.current.style.width=""},ee=e=>{if(!P.current||!R.current||!_.current)return;let t=_.current.offsetWidth,s=window.innerWidth-t-100,a=Math.max(100,Math.min(e.clientX,s)),r=window.innerWidth-a-t;P.current.style.width="".concat(a,"px"),R.current.style.width="".concat(r,"px")},et=()=>{O(!0),document.addEventListener("mousemove",ee),document.addEventListener("mouseup",es)},es=()=>{O(!1),document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",es)};return(0,d.A)(()=>{D&&(null==h?void 0:h._id)&&(l.oR.success("Your project is deployed! \uD83C\uDF89",{action:{label:"See Project",onClick:()=>{window.open("https://huggingface.co/spaces/".concat(null==h?void 0:h.space_id),"_blank")}}}),A.replace("/projects/".concat(null==h?void 0:h.space_id))),g&&(j(),l.oR.warning("Previous HTML content restored from local storage.")),Q(),_.current&&(_.current.addEventListener("mousedown",et),window.addEventListener("resize",Q))}),(0,u.A)(()=>{document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",es),_.current&&_.current.removeEventListener("mousedown",et),window.removeEventListener("resize",Q)}),(0,x.A)("beforeunload",e=>{if(G||!(0,K.b)(b))return e.preventDefault(),""}),(0,m.A)(()=>{"chat"===I?(Q(),_.current&&_.current.addEventListener("mousedown",et)):R.current&&(R.current.style.width="100%")},[I]),(0,a.jsxs)("section",{className:"h-[100dvh] bg-neutral-950 flex flex-col",children:[(0,a.jsxs)(w,{tab:I,onNewTab:$,children:[(0,a.jsx)(eV.C,{onSuccess:e=>{A.push("/projects/".concat(e.space_id))}}),(null==h?void 0:h._id)?(0,a.jsx)(eB,{html:b,prompts:z}):(0,a.jsx)(eO,{html:b,prompts:z})]}),(0,a.jsxs)("main",{className:"bg-neutral-950 flex-1 max-lg:flex-col flex w-full max-lg:h-[calc(100%-82px)] relative",children:["chat"===I&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{ref:P,className:"bg-neutral-900 relative flex-1 overflow-hidden h-full flex flex-col gap-2 pb-3",children:[(0,a.jsx)(i.A,{className:"size-4 absolute top-2 right-5 text-neutral-500 hover:text-neutral-300 z-2 cursor-pointer",onClick:()=>{v(b),l.oR.success("HTML copied to clipboard!")}}),(0,a.jsx)(n.Ay,{defaultLanguage:"html",theme:"vs-dark",className:p()("h-full bg-neutral-900 transition-all duration-200 absolute left-0 top-0",{"pointer-events-none":G}),options:{colorDecorators:!0,fontLigatures:!0,theme:"vs-dark",minimap:{enabled:!1},scrollbar:{horizontal:"hidden"},wordWrap:"on"},value:b,onChange:e=>{y(null!=e?e:"")},onMount:(e,t)=>{E.current=e,T.current=t},onValidate:e=>{console.log("Editor validation markers:",e)}}),(0,a.jsx)(eU,{html:b,setHtml:e=>{y(e)},htmlHistory:N,onSuccess:(e,t,s)=>{let a=[...N];if(a.unshift({html:e,createdAt:new Date,prompt:t}),k(a),X(null),window.innerWidth<=1024&&$("preview"),s&&(null==s?void 0:s.length)>0){let e=s.map(e=>({range:new T.current.Range(e[0],1,e[1],1),options:{inlineClassName:"matched-line"}}));setTimeout(()=>{var t,a,r;null==E||null==(a=E.current)||null==(t=a.getModel())||t.deltaDecorations([],e),null==(r=E.current)||r.revealLine(s[0][0])},100)}},isAiWorking:G,setisAiWorking:q,onNewPrompt:e=>{S(t=>[...t,e])},onScrollToBottom:()=>{var e,t,s,a;null==(s=E.current)||s.revealLine(null!=(a=null==(t=E.current)||null==(e=t.getModel())?void 0:e.getLineCount())?a:0)},isEditableModeEnabled:Y,setIsEditableModeEnabled:J,selectedElement:Z,setSelectedElement:X})]}),(0,a.jsx)("div",{ref:_,className:"bg-neutral-800 hover:bg-sky-500 active:bg-sky-500 w-1.5 cursor-col-resize h-full max-lg:hidden"})]}),(0,a.jsx)(B,{html:b,isResizing:W,isAiWorking:G,ref:R,device:H,currentTab:I,isEditableModeEnabled:Y,iframeRef:L,onClickElement:e=>{J(!1),X(e),$("chat")}})]}),(0,a.jsx)(U,{onReset:()=>{if(G)return void l.oR.warning("Please wait for the AI to finish working.");if(window.confirm("You're about to reset the editor. Are you sure?")){var e,t,s,a;y(M.v),j(),null==(s=E.current)||s.revealLine(null!=(a=null==(t=E.current)||null==(e=t.getModel())?void 0:e.getLineCount())?a:0)}},htmlHistory:N,setHtml:y,iframeRef:L,device:H,setDevice:F})]})}},8975:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/_next/static/media/logo.7dc2bfd7.svg",height:82,width:116,blurWidth:0,blurHeight:0}},9554:(e,t,s)=>{"use strict";s.d(t,{B:()=>v});var a=s(5155),r=s(9103),l=s(3061),n=s(6418),i=s(4678),o=s(4835),c=s(6874),d=s.n(c),u=s(7133);s(2115);var x=s(4011),m=s(3999);function h(e){let{className:t,...s}=e;return(0,a.jsx)(x.bL,{"data-slot":"avatar",className:(0,m.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(x._V,{"data-slot":"avatar-image",className:(0,m.cn)("aspect-square size-full",t),...s})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(x.H4,{"data-slot":"avatar-fallback",className:(0,m.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}var g=s(7168),j=s(8673);let v=e=>{var t,s,c,x;let{className:m}=e,{logout:v,user:b}=(0,j.J)();return(0,a.jsxs)(u.rI,{children:[(0,a.jsx)(u.ty,{asChild:!0,children:(0,a.jsxs)(g.$,{variant:"ghost",className:"".concat(m),children:[(0,a.jsxs)(h,{className:"size-8 mr-1",children:[(0,a.jsx)(p,{src:null==b?void 0:b.avatarUrl,alt:"@shadcn"}),(0,a.jsx)(f,{className:"text-sm",children:null!=(c=null==b||null==(t=b.fullname)?void 0:t.charAt(0).toUpperCase())?c:"E"})]}),(0,a.jsx)("span",{className:"max-lg:hidden",children:null==b?void 0:b.fullname}),(0,a.jsxs)("span",{className:"lg:hidden",children:[null==b?void 0:b.fullname.slice(0,10),(null!=(x=null==b||null==(s=b.fullname)?void 0:s.length)?x:0)>10?"...":""]})]})}),(0,a.jsxs)(u.SQ,{className:"w-56",align:"start",children:[(0,a.jsx)(u.lp,{className:"font-bold flex items-center gap-2 justify-center",children:"My Account"}),(0,a.jsx)(u.mB,{}),(0,a.jsxs)(u.I,{children:[(0,a.jsx)(d(),{href:"/projects/new",children:(0,a.jsxs)(u._2,{children:[(0,a.jsx)(r.A,{className:"size-4 text-neutral-100"}),"New Project"]})}),(0,a.jsx)(d(),{href:"/projects",children:(0,a.jsxs)(u._2,{children:[(0,a.jsx)(l.A,{className:"size-4 text-neutral-100"}),"Import Project"]})}),(0,a.jsx)(d(),{href:"/projects",children:(0,a.jsxs)(u._2,{children:[(0,a.jsx)(n.A,{className:"size-4 text-neutral-100"}),"View Projects"]})}),(0,a.jsx)("a",{href:"https://huggingface.co/settings/billing",target:"_blank",children:(0,a.jsxs)(u._2,{children:[(0,a.jsx)(i.A,{className:"size-4 text-neutral-100"}),"Usage Quota"]})})]}),(0,a.jsx)(u.mB,{}),(0,a.jsx)(u._2,{onClick:()=>{confirm("Are you sure you want to log out?")&&v()},children:(0,a.jsxs)(g.$,{size:"xs",variant:"destructive",className:"w-full",children:[(0,a.jsx)(o.A,{className:"size-4"}),"Log out"]})})]})]})}}}]);